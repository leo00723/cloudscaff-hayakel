<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="primary"></ion-back-button>
    </ion-buttons>
    <ion-title>Create Estimate </ion-title>

  </ion-toolbar>
</ion-header>


<ion-content fullscreen="true">
  <div class="ion-padding" *ngIf="company$ | async as company">
    {{form.value | json}}
  </div>
  <div class="ion-padding">
    <form name="estimate" [formGroup]="form">
      <ion-row>
        <ion-col size="12">
          <ion-text color="medium">
            <p>
              Customer Information
            </p>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row class="border rounded-lg p-2 shadow">
        <ion-col size="12">
          <ion-item class="rounded-3">
            <ion-label position="stacked">Customer</ion-label>
            <ion-select mode='ios' *ngIf="customers$ | async as customers" formControlName="customer"
              [selectedText]="field('customer').value.name" placeholder="Select Customer">
              <ion-select-option [value]="customer" *ngFor="let customer of customers">{{customer.name}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </ion-col>
        <ion-col size="12">
          <ion-item class="rounded-3">
            <ion-label position="stacked" placeholder="">Message</ion-label>
            <ion-textarea formControlName="message" autoGrow="true"></ion-textarea>
          </ion-item>
        </ion-col>
        <ion-col size="12">
          <app-input-text title="Site Name" controlName="siteName" [form]="form" placeholder="Enter Site Name">
          </app-input-text>
        </ion-col>
      </ion-row>


      <ion-row class="mt-3">
        <ion-col size="12">
          <ion-text color="medium">
            <p>
              Scaffold Information
            </p>
          </ion-text>
        </ion-col>
      </ion-row>

      <ion-row class='rounded-lg mb-3 border p-2 shadow' *ngFor="let item of [1,2,3,4]">
        <ion-col size="12">
          <ion-note>
            Scaffold {{item}}
          </ion-note>
        </ion-col>
        <ion-col sizeXl="1" size='4'>
          <app-input-text title="Length" type="number" controlName="siteName" [form]="form" placeholder="L">
          </app-input-text>
        </ion-col>
        <ion-col sizeXl="1" size='4'>
          <app-input-text title="Width" type="number" controlName="siteName" [form]="form" placeholder="W">
          </app-input-text>
        </ion-col>
        <ion-col sizeXl="1" size='4'>
          <app-input-text title="Height" type="number" controlName="siteName" [form]="form" placeholder="H">
          </app-input-text>
        </ion-col>
        <ion-col>
          <app-input-text title="Rate Profile" controlName="siteName" [form]="form" placeholder="Enter Site Name">
          </app-input-text>
        </ion-col>
        <ion-col>
          <app-input-text title="Rate Override" type="number" controlName="siteName" [form]="form"
            placeholder="Enter Site Name">
          </app-input-text>
        </ion-col>
        <ion-col>
          <app-input-text title="Hire %" type="number" controlName="siteName" [form]="form"
            placeholder="Enter Site Name">
          </app-input-text>
        </ion-col>
        <ion-col>
          <app-input-text title="Total" type="number" controlName="siteName" [form]="form"
            placeholder="Enter Site Name">
          </app-input-text>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col size="12" class="text-end">
          <ion-button shape="round">Create Estimate</ion-button>
        </ion-col>
      </ion-row>
    </form>
  </div>


</ion-content>
