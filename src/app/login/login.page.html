<ion-content>
  <div class="d-flex justify-content-center bg-primary py-5 px-2">
    <ion-thumbnail>
      <ion-img
        class="img-fluid"
        width="100px"
        src="assets/icons/icon-512x512.png"
        alt="logo"
      ></ion-img>
    </ion-thumbnail>
  </div>
  <ion-row class="py-5 rounded-lg-top ion-padding">
    <ion-col size="12" sizeLg="4" sizeMd="6" class="mx-auto">
      <ion-text color="dark">
        <h1 class="display-6 my-auto fw-bold">Welcome Back!</h1>
        <p class="fw-light my-auto mt-2">Sign in to continue.</p>
      </ion-text>
      <form class="py-5" [formGroup]="form" name="login" (ngSubmit)="login()">
        <ion-item class="mb-3 rounded-3" mode="md">
          <ion-label position="stacked">Email address</ion-label>
          <ion-input
            type="email"
            id="email"
            placeholder="Email address"
            name="email"
            autocomplete="email"
            formControlName="email"
          ></ion-input>
          <ion-note
            slot="error"
            color="danger"
            *ngIf="checkStatus(field('email'))"
            >Please enter a valid email address!</ion-note
          >
        </ion-item>
        <ion-item class="mb-3 rounded-3" mode="md">
          <ion-label position="stacked">Password</ion-label>
          <app-show-hide-password>
            <ion-input
              type="password"
              id="password"
              placeholder="Password"
              name="current-password"
              autocomplete="current-password"
              formControlName="password"
            ></ion-input>
          </app-show-hide-password>
          <ion-note
            slot="error"
            color="danger"
            *ngIf="checkStatus(field('password'))"
            >Please enter a valid password!</ion-note
          >
          <ion-note *ngIf="error" slot="error" color="danger"
            >{{errorMessage}}</ion-note
          >
        </ion-item>
        <div class="mb-3 text-primary small text-end">
          <a
            class="text-decoration-none"
            routerLink="/forgot"
            routerDirection="root"
          >
            Forgot Password?
          </a>
        </div>
        <ion-progress-bar
          type="indeterminate"
          *ngIf="loading"
        ></ion-progress-bar>

        <ion-button
          expand="block"
          shape="round"
          *ngIf="!loading"
          [disabled]="form.invalid"
          type="submit"
          name="submit"
        >
          Sign In
        </ion-button>

        <div class="mt-5 text-primary text-center">
          <a class="text-decoration-none" routerLink="/signup"
            >Don't have an account? Sign Up
          </a>
        </div>
      </form>
    </ion-col>
  </ion-row>
</ion-content>
