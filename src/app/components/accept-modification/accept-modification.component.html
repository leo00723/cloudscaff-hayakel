<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="close()">
        <ion-icon
          slot="icon-only"
          name="arrow-back-outline"
          color="primary"
        ></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Accept Modification </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form name="estimate" [ngSwitch]="page">
    <ion-row *ngSwitchDefault>
      <ion-col size="12">
        <ion-text color="medium">
          <h4>Attach Purchase Order</h4>
        </ion-text>
      </ion-col>
      <ion-col size="12">
        <app-input-reactive
          title="Purchase Order"
          controlName="poNumber"
          [form]="form"
          placeholder="Enter Purchase Order Number"
        >
        </app-input-reactive>
      </ion-col>
      <ion-col size="12">
        <app-input-reactive
          title="Work Order"
          [optional]="true"
          controlName="woNumber"
          [form]="form"
          placeholder="Enter Work Order Number"
        >
        </app-input-reactive>
      </ion-col>
      <ion-col size="12">
        <ion-button
          size="block"
          shape="round"
          color="success"
          [disabled]="!form.get('poNumber').value"
          (click)="page = 1"
        >
          Next
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row *ngSwitchCase="1">
      <ion-col size="12">
        <app-input-reactive
          title="Modification"
          controlName="code"
          [form]="form"
          [readonly]="true"
        >
        </app-input-reactive>
        <ion-text>
          <h5>Attach to</h5>
        </ion-text>
      </ion-col>
      <ion-col size="12">
        <app-input-text
          title="Scaffold"
          [value]="modification.siteName"
          [readonly]="true"
        >
        </app-input-text>
        <app-input-text
          title="Scaffold"
          [value]="modification.scaffoldCode"
          [readonly]="true"
        >
        </app-input-text>
        <app-input-reactive
          title="Purchase Order"
          controlName="poNumber"
          [form]="form"
          [readonly]="true"
        >
        </app-input-reactive>
        <app-input-reactive
          title="Work Order"
          controlName="woNumber"
          [form]="form"
          [readonly]="true"
        >
        </app-input-reactive>
      </ion-col>
      <ion-col size="12">
        <ion-progress-bar
          type="indeterminate"
          *ngIf="loading"
        ></ion-progress-bar>
        <ion-button
          *ngIf="!loading"
          size="block"
          shape="round"
          color="success"
          (click)="activate()"
        >
          Accept Estimate
        </ion-button>
      </ion-col>
    </ion-row>
  </form>
</ion-content>
